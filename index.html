<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/index.css?v3" />
    <title>SkyPro 2 курс</title>
  </head>

  <body>
    <div class="top center">
      <div class="top__content">
        <h1 class="h1 top__title">Добро пожаловать на мой сайт!</h1>
        <p class="top__text">
          Вам предстоит пройти несколько увлекательных игр. Если готов — нажимай <strong>поехали</strong> и <strong>приступай</strong>
        </p>
        <a class="button top__button" href="#">Поехали!</a>
      </div>
    </div>

    <main class="center">
      <div class="game">
        <div class="game-card game-card_1">
          <p class="game-card__name">Игра 1</p>
        </div>

        <div class="game-card game-card_2">
          <p class="game-card__name">Игра 2</p>
        </div>

        <div class="game-card game-card_3">
          <p class="game-card__name">Игра 3</p>
        </div>
      </div>

      <div class="play">
        <div class="play__info">
          <h2 class="h2 play__title">Времена года!</h2>
          <p class="play__text">Нажмите кнопку играть, введите номер месяца (от 1 до 12) и вы узнаете к какому времени года он относится</p>
          <button class="button" id="seasons">Играть</button>
        </div>
        <picture class="play__banner">
          <img src="./img/undraw_video_game.svg" alt="Геймпад" srcset="" />
        </picture>
      </div>

      <div class="play play_inverted">
        <div class="play__info">
          <h2 class="h2 play__title">Игра в загадки</h2>
          <p class="play__text">При нажатии на кнопку играть, вы увидите несколько слов, которые вам необходимо запомнить.</p>
          <button class="button" id="guess-fruts">Играть</button>
        </div>
        <picture class="play__banner">
          <img src="./img/undraw_gaming_re_cma21.svg" alt="Геймпад" srcset="" />
        </picture>
      </div>
    </main>

    <footer></footer>
  </body>
  <script>
    document.getElementById(`seasons`).addEventListener(`click`, seasons);
    document.getElementById(`guess-fruts`).addEventListener(`click`, guessFruts);
    
    function seasons() {
      let monthNumber = prompt(`Введите номер месяца`);
      monthNumber = parseInt(monthNumber);

      if (monthNumber == 1 || monthNumber == 2 || monthNumber == 12) {
        alert(`Зима`);
      } else if (monthNumber == 4 || monthNumber == 5 || monthNumber == 6) {
        alert(`Весна`);
      } else if (monthNumber == 7 || monthNumber == 8 || monthNumber == 9) {
        alert(`Осень`);
      } else if (monthNumber == 10 || monthNumber == 11 || monthNumber == 12) {
        alert(`Лето`);
      } else {
        alert(`Указанного месяца не существует`);
      }
    }

    
    function guessFruts() {
      let fruits = ["Яблоко", "Груша", "Дыня", "Виноград", "Персик", "Апельсин", "Мандарин"];
      let answerCount = 0;

      fruits = fruits.sort(() => Math.random() - 0.4);

      alert(`На экране будет возникнут слова, которые нужно запомнить и затем вписать их через запятую. Готов? Поехали!`);

      alert(`${fruits.join(", ")}`);

      let userAnswer = prompt("Повтори слова через запятую:") ?? "";

      userAnswer = userAnswer.split(",");
      userAnswer = userAnswer.map((item) => item.trim().toLowerCase());
      fruits = fruits.map((item) => item.trim().toLowerCase());
      let bufferAnswer = [];

      for (let item of userAnswer) {
        if (fruits.includes(item) && !bufferAnswer.includes(item)) {
          answerCount += 1;
          bufferAnswer.push(item);
        }
      }

      let result = Math.round((answerCount / fruits.length) * 100);

      if (result > 0 && result <= 40) {
        alert(`Вы отгадали ${answerCount} из ${fruits.length}! В следующий раз повезёт!`);
      } else if (result < 100) {
        alert(`Вы отгадали ${answerCount} из ${fruits.length}! Очень близко, очень близко!`);
      } else if (result <= 100) {
        alert(`Вы отгадали ${answerCount} из ${fruits.length}! Поздравляю!`);
      } else {
        alert(`Вы ничего не отгадали... Попробуйте ещё раз!`);
      }
    }
  </script>
</html>
